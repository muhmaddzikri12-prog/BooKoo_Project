<!DOCTYPE html>
<html lang="id">

<head>
    <title>Buku Terlaris - PustakaKita</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <style>
        /* --- CSS KHUSUS HALAMAN BESTSELLER --- */
        /* 1. HERO BANNER E-COMMERCE BUKU (Style Baru) */
        
        .hero-store {
            /* Foto Background Perpustakaan Estetik */
            background-image: url("https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80");
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            /* Efek Parallax (Background diam saat scroll) */
            position: relative;
            padding: 6rem 2rem;
            text-align: center;
            color: white;
            border-radius: 0 0 20px 20px;
            margin-bottom: 4rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        /* Lapisan Hitam Transparan agar teks terbaca */
        
        .hero-store::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.65);
            /* Gelap 65% */
            border-radius: 0 0 20px 20px;
        }
        /* Konten Hero */
        
        .hero-store-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .tag-best {
            display: inline-block;
            background: #ef4444;
            /* Merah menyala */
            color: white;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
            box-shadow: 0 4px 10px rgba(239, 68, 68, 0.4);
        }
        
        .hero-store h1 {
            font-family: "Poppins", serif;
            font-size: 3.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
        }
        
        .hero-store h1 span {
            color: #fbbf24;
            /* Aksen Emas pada kata tertentu */
            font-style: italic;
        }
        
        .hero-store p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        /* Info Statistik Kecil di Banner */
        
        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 2rem;
        }
        
        .stat-item h3 {
            font-size: 1.8rem;
            color: #fbbf24;
            margin: 0;
        }
        
        .stat-item p {
            font-size: 0.85rem;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        /* 2. STYLE KARTU PRODUK & RANKING (Sama seperti sebelumnya) */
        
        .rank-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 5px 12px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            z-index: 10;
            color: white;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .rank-1 {
            background: linear-gradient(45deg, #ffd700, #fdb931);
            color: #000;
        }
        
        .rank-2 {
            background: linear-gradient(45deg, #e0e0e0, #bdbdbd);
            color: #000;
        }
        
        .rank-3 {
            background: linear-gradient(45deg, #cd7f32, #a0522d);
            color: white;
        }
        
        .rank-other {
            background: #666;
            font-size: 0.8rem;
        }
        
        .stars {
            color: #fbbf24;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        /* 3. TESTIMONI */
        
        .review-section {
            background: white;
            padding: 3rem 2rem;
            margin: 4rem 0;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid #f0f0f0;
        }
        
        .review-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .review-card {
            background: #f9fafb;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }
        /* Responsive Mobile */
        
        @media screen and (max-width: 768px) {
            .hero-store h1 {
                font-size: 2.2rem;
            }
            .hero-stats {
                gap: 1rem;
            }
            .stat-item h3 {
                font-size: 1.4rem;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <a href="home.html" class="logo"><i class="fas fa-book-open"></i> BooKoo</a
      >
      <div class="nav-links" id="navLinks">
        <a href="home.html">Beranda</a>
        <a href="products.html">Katalog Buku</a>
        <a href="bestseller.html" class="active-link">Bestseller</a>
        <a href="orders.html">Pesanan Saya</a>
        <a href="contact.html">Hubungi Kami</a>
        </div>
        <div class="nav-icons">
            <a href="#" onclick="logout()" class="icon-btn"><i class="fas fa-sign-out-alt"></i
        ></a>
            <a href="cart.html" class="icon-btn">
                <i class="fas fa-shopping-bag"></i>
                <span class="cart-badge" id="nav-cart-count">0</span>
            </a>
            <div class="hamburger" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <div class="hero-store">
        <div class="hero-store-content">
            <div class="tag-best">
                <i class="fas fa-fire-alt"></i> Trending Week
            </div>
            <h1>
                Buku Pilihan <br />
                <span>Paling Populer</span> Bulan Ini
            </h1>
            <p>
                Temukan bacaan yang sedang hangat diperbincangkan. Dari pengembangan diri hingga novel sastra terbaik, semuanya ada di sini.
            </p>

            <div class="hero-stats">
                <div class="stat-item">
                    <h3>10k+</h3>
                    <p>Terjual</p>
                </div>
                <div class="stat-item">
                    <h3>4.9</h3>
                    <p>Rating</p>
                </div>
                <div class="stat-item">
                    <h3>Original</h3>
                    <p>Terjamin</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="product-grid" id="bestseller-list"></div>

        <div class="review-section">
            <h2 style="text-align: center; font-family: 'Poppins', serif">
                Kata Pembaca
            </h2>
            <p style="text-align: center; color: #666">
                Ulasan jujur dari komunitas pecinta buku kami.
            </p>

            <div class="review-grid">
                <div class="review-card">
                    <div class="stars">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i
              ><i class="fas fa-star"></i><i class="fas fa-star"></i
              ><i class="fas fa-star"></i>
                    </div>
                    <p style="font-style: italic; margin-bottom: 1rem; color: #555">
                        "Filosofi Teras mengubah cara pandang saya menghadapi masalah. Pengiriman BooKoo juga sangat cepat!"
                    </p>
                    <strong>- Naufal.</strong>
                </div>
                <div class="review-card">
                    <div class="stars">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i
              ><i class="fas fa-star"></i><i class="fas fa-star"></i
              ><i class="fas fa-star"></i>
                    </div>
                    <p style="font-style: italic; margin-bottom: 1rem; color: #555">
                        "Atomic Habits benar-benar buku wajib baca. Packing aman dan bukunya original."
                    </p>
                    <strong>- Anachta SN.</strong>
                </div>
                <div class="review-card">
                    <div class="stars">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i
              ><i class="fas fa-star"></i><i class="fas fa-star"></i
              ><i class="fas fa-star-half-alt"></i>
                    </div>
                    <p style="font-style: italic; margin-bottom: 1rem; color: #555">
                        "Suka banget sama Laut Bercerita. Sedih tapi bagus. Terima kasih rekomendasinya."
                    </p>
                    <strong>- Ujang.</strong>
                </div>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script>
        checkAuth();

        document.addEventListener("DOMContentLoaded", () => {
            const products = JSON.parse(localStorage.getItem("products")) || [];
            const container = document.getElementById("bestseller-list");

            // Pilihan Buku Bestseller (Manual ID)
            const bestsellerIds = [1, 6, 3, 8]; // Atomic Habits, Filosofi Teras, Laut Bercerita, How to Win Friends
            const bestsellers = bestsellerIds
                .map((id) => products.find((p) => p.id === id))
                .filter((p) => p !== undefined);

            let html = "";

            bestsellers.forEach((p, index) => {
                // Logic Badge Juara
                let rankClass = "rank-other";
                let rankLabel = `#${index + 1}`;
                let rankIcon = "fa-medal";

                if (index === 0) {
                    rankClass = "rank-1";
                    rankIcon = "fa-trophy";
                }
                if (index === 1) {
                    rankClass = "rank-2";
                }
                if (index === 2) {
                    rankClass = "rank-3";
                }

                html += `
                    <div class="product-card" style="position: relative;">
                        <div class="rank-badge ${rankClass}">
                            <i class="fas ${rankIcon}"></i> ${rankLabel}
                        </div>

                        <a href="detail.html?id=${
                          p.id
                        }" style="text-decoration:none; color:inherit;">
                            <img src="${p.image}" class="product-img" alt="${
            p.name
          }">
                            <div class="product-info">
                                <div class="stars">
                                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                    <span style="color:#888; font-size:0.8rem;">(5.0)</span>
                                </div>
                                
                                <h3>${p.name}</h3>
                                <p>${p.desc.substring(0, 50)}...</p>
                                <div class="price">${formatRupiah(
                                  p.price
                                )}</div>
                                
                                <button class="btn btn-primary btn-block" style="margin-top:10px" onclick="event.preventDefault(); addToCart(${
                                  p.id
                                })">
                                    <i class="fas fa-cart-plus"></i> +Keranjang
                                </button>
                            </div>
                        </a>
                    </div>
                `;
            });

            container.innerHTML = html;
        });
    </script>
</body>

</html>